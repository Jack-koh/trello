(this.webpackJsonptrello=this.webpackJsonptrello||[]).push([[0],{214:function(e,t,a){e.exports=a(453)},417:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){},425:function(e,t,a){},444:function(e,t,a){},445:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){},452:function(e,t,a){},453:function(e,t,a){"use strict";a.r(t);a(215),a(224);var n=a(0),r=a.n(n),c=a(100),l=a.n(c),o=(a(417),a(58)),u=a(18),i=a.n(u),s=a(17),m=a(23),d=a(34),b=(a(422),function(){return{type:"GET_BOARD_ITEMS_START",userNo:JSON.parse(localStorage.getItem("user-data")).userNo}});a(423);var E=function(){return r.a.createElement("div",{className:"spinner-wrap"},r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"rect1"}),r.a.createElement("div",{className:"rect2"}),r.a.createElement("div",{className:"rect3"}),r.a.createElement("div",{className:"rect4"}),r.a.createElement("div",{className:"rect5"})))};var p=Object(m.b)((function(e){return{userData:e.auth}}),(function(e){return{onLogin:function(t){return e({type:"LOGIN_START",user:{email:(a=t).email,password:a.password}});var a}}}))(Object(o.g)((function(e){console.log("Login - check");var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),m=u[0],b=u[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),g=f[0],v=f[1],h=Object(n.useState)(!1),O=Object(s.a)(h,2),N=O[0],j=O[1];return Object(n.useEffect)((function(){localStorage.getItem("token")&&e.history.push("/main/boards")}),[e.userData,e.history]),Object(n.useEffect)((function(){l(""),b(""),v("")}),[e.location]),Object(n.useEffect)((function(){j(e.userData.loading)}),[e.userData]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"logo_wrap"},r.a.createElement("img",{src:"https://d2k1ftgv7pobq7.cloudfront.net/meta/c/p/res/images/trello-header-logos/76ceb1faa939ede03abacb6efacdde16/trello-logo-blue.svg",alt:"logo"})),r.a.createElement("div",{className:"form_wrap"},r.a.createElement("h1",null,"Log in to Trello"),r.a.createElement("form",{onSubmit:function(t){var a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t.preventDefault(),a={email:c,password:m,name:g},e.onLogin(a);case 3:case"end":return n.stop()}}))}},r.a.createElement("input",{type:"text",placeholder:"Enter email",autoFocus:!0,value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("input",{type:"password",className:"scurity_text",placeholder:"Enter password",value:m,onChange:function(e){return b(e.target.value)}}),r.a.createElement("button",{className:"login_button"},N?r.a.createElement(E,null):"Log In")),r.a.createElement("div",{className:"auth-utils"},r.a.createElement(d.b,{to:"/find-password",className:"find-pw"},"Cant' log in?"),r.a.createElement("i",null,"\xb7"),r.a.createElement(d.b,{to:"/Signup",className:"sign-up"},"Sign up for an account"))))}))),f=(a(425),a(103)),g=a(64),v=a.n(g),h=function(e,t,a){var n="data";return"GET"===t&&(n="params"),v()(Object(f.a)({url:"http://localhost:3000/api/"+e,method:t},n,a))};var O=Object(o.g)((function(e){console.log("Login - check");var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),m=u[0],b=u[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),g=f[0],v=f[1],O=Object(n.useState)(!1),N=Object(s.a)(O,2),j=N[0],S=N[1];return Object(n.useEffect)((function(){localStorage.getItem("token")&&e.history.push("/main")}),[e.userData,e.history]),Object(n.useEffect)((function(){l(""),b(""),v("")}),[e.location]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"logo_wrap"},r.a.createElement("img",{src:"https://d2k1ftgv7pobq7.cloudfront.net/meta/c/p/res/images/trello-header-logos/76ceb1faa939ede03abacb6efacdde16/trello-logo-blue.svg",alt:"logo"})),r.a.createElement("div",{className:"form_wrap"},r.a.createElement("h1",null,"Sign in to Trello"),r.a.createElement("form",{onSubmit:function(t){var a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),a={email:c,password:m,name:g},n.prev=2,S(!0),n.next=6,i.a.awrap(h("auth/signup","PUT",a));case 6:S(!1),e.history.push("/Login"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),S(!1);case 13:case"end":return n.stop()}}),null,null,[[2,10]])}},r.a.createElement("input",{type:"text",placeholder:"Enter email",autoFocus:!0,value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("input",{className:"scurity_text",placeholder:"Enter password",value:m,onChange:function(e){return b(e.target.value)}}),r.a.createElement("input",{placeholder:"Enter name",value:g,onChange:function(e){return v(e.target.value)}}),r.a.createElement("button",{className:"signup-button"},j?r.a.createElement(E,null):"Continue")),r.a.createElement("div",{className:"auth-utils"},r.a.createElement(d.b,{to:"/Login",className:"sign-up"},"Already have an account? Log In"))))})),N=a(19),j=(a(444),function(e){return console.log("NavigationItem - check"),r.a.createElement("li",{className:"NavigationItem"},r.a.createElement(d.c,{to:e.link,exact:e.exact,activeClassName:"active"},e.children))}),S=(a(445),function(e){return r.a.createElement("div",{className:"side_bar_layout"},r.a.createElement("nav",{className:"side_bar_wrap"},r.a.createElement("ul",null,r.a.createElement(j,{link:"/main/boards",exact:!0},r.a.createElement(N.i,null),r.a.createElement("span",null,"Boards")),r.a.createElement(j,{link:"/main/template",exact:!0},r.a.createElement(N.e,null),r.a.createElement("span",null,"Template")),r.a.createElement(j,{link:"/main/home",exact:!0},r.a.createElement(N.l,null),r.a.createElement("span",null,"Home")))),e.children)});a(446),a(447),a(448);var y=function(){return r.a.createElement("div",{style:{position:"fixed",left:0,top:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"#ffffff",zIndex:10}})};var k=Object(m.b)(null,(function(e){return{onGetBoardItem:function(t){e(b())}}}))((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)("bg-forest"),u=Object(s.a)(o,2),m=u[0],d=u[1],b=Object(n.useState)(!1),p=Object(s.a)(b,2),f=p[0],g=(p[1],Object(n.useState)(!1)),h=Object(s.a)(g,2),O=h[0],j=h[1],S="https://images.unsplash.com/photo-",k="&auto=format&fit=crop&w=1350&q=80",_=[{type:"image",name:"bg-forest",url:"".concat(S,"1500762728065-466b7a170c96?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9").concat(k)},{type:"image",name:"bg-sandcave",url:"".concat(S,"1444076784383-69ff7bae1b0a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9").concat(k)},{type:"image",name:"bg-bird",url:"".concat(S,"1578279043004-e218349bfdfd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9").concat(k)},{type:"image",name:"bg-mountain",url:"".concat(S,"1493246507139-91e8fad9978e?ixlib=rb-1.2.1").concat(k)},{type:"color",name:"bg-blue"},{type:"color",name:"bg-yellow"},{type:"color",name:"bg-green"},{type:"color",name:"bg-brown"},{type:"color",name:"bg-brown"}],I=_.map((function(e,t){return r.a.createElement("li",{key:t,className:"choice-card ".concat(e.name),onClick:function(){return d(e.name)}})}));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"create-board-dialog"},r.a.createElement("form",{onSubmit:function(t){var a,n,r;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t.preventDefault(),a=_.find((function(e){return e.name===m})),n=JSON.parse(localStorage.getItem("user-data")),r={title:c,background:a,teams:f,userNo:n.userNo},l.prev=4,j(!0),l.next=8,i.a.awrap(v.a.post("boards/create",r));case 8:return l.next=10,i.a.awrap(v.a.get("boards/get",{userNo:r.userNo}));case 10:j(!1),e.closeDialog(),l.next=18;break;case 14:l.prev=14,l.t0=l.catch(4),console.log("create-board-errer"),j(!1);case 18:case"end":return l.stop()}}),null,null,[[4,14]])}},r.a.createElement("div",{className:"set-board"},r.a.createElement("div",{className:"board-card ".concat(m)},r.a.createElement(N.d,{onClick:e.closeDialog}),r.a.createElement("input",{type:"text",placeholder:"Add board title",value:c,onChange:function(e){return l(e.target.value)}})),r.a.createElement("ul",{className:"card-background"},I)),r.a.createElement("div",{className:"bottom-utils"},r.a.createElement("button",{disabled:0===c.length},O?r.a.createElement(E,null):"Create Board")))),r.a.createElement(y,null))})),_=Object(m.b)((function(e){return{boardItems:e.boards.list}}),(function(e){return{onGetBoardItem:function(t){e(b())},onSetTrello:function(t){e({type:"SET_TRELLO_ITEM",data:t})}}}))(Object(o.g)((function(e){console.log("BoardItem - check");var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){console.log("Board - mounted"),e.onGetBoardItem()}),[]);var o=e.boardItems.map((function(t,a){return r.a.createElement("li",{key:a,className:"board-item ".concat(t.background.name),onClick:function(){return function(t){e.onSetTrello(t),e.history.push("/board/".concat(t.title))}(t)}},r.a.createElement("div",{className:"board-item-inner"},r.a.createElement("span",{className:"item-title"},t.title)),r.a.createElement("div",{className:"board-hover-action"},r.a.createElement(N.k,{onClick:function(e){return function(e,t){e.stopPropagation(),console.log(t)}(e,t)}})))})),u=r.a.createElement("li",{className:"board-item bg-gray",onClick:function(){l(!c)}},r.a.createElement("div",{className:"board-item-inner create"},r.a.createElement("span",{className:"create-item-title"},"Create new board")),r.a.createElement("div",{className:"create-hover-action"}));return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"board-item-section"},!!e.boardItems.length&&o,u),c&&r.a.createElement(k,{closeDialog:function(){l(!1),e.onGetBoardItem()}}))})));var I=function(){return console.log("Board - created"),r.a.createElement("div",{className:"board-wrap"},r.a.createElement("div",{className:"board-inner-area"},r.a.createElement("div",{className:"board-section"},r.a.createElement("div",{className:"board-title"},r.a.createElement(N.h,null),r.a.createElement("span",null,"Personal Boards")),r.a.createElement(_,null))))};a(449);var w=Object(m.b)((function(e){return{}}),(function(e){return{}}))((function(){return console.log("Template - check"),r.a.createElement("div",{className:"template-wrap"},r.a.createElement("div",{className:"template-inner-area"},"Template"))}));a(450);var T=function(){return console.log("Home - check"),r.a.createElement("div",{className:"home-wrap"},r.a.createElement("div",{className:"home-inner-area"},"Home"))};var x=Object(m.b)(null,(function(e){return{autoAuthCheck:function(){return e((function(e){var t=localStorage.getItem("token"),a=JSON.parse(localStorage.getItem("user-data"));t?(new Date).getTime()/1e3>=a.expiration?e({type:"LOGOUT"}):e({type:"LOGIN_SUCCEED"}):e({type:"LOGOUT"})}))}}}))(Object(o.g)((function(e){return console.log("Main - created"),Object(n.useEffect)((function(){e.autoAuthCheck(),localStorage.getItem("token")||e.history.push("/Login")}),[e]),r.a.createElement(S,null,r.a.createElement(o.b,{path:"/main/boards",component:I}),r.a.createElement(o.b,{path:"/main/template",component:w}),r.a.createElement(o.b,{path:"/main/home",component:T}))})));a(451);var L=Object(m.b)(null,(function(e){return{onLogout:function(){return e({type:"LOGOUT"})}}}))(Object(o.g)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),i=u[0],m=u[1],d=Object(n.useRef)(null);return Object(n.useEffect)((function(){var t=function(t){d.current.contains(t.target)||e.clickOutsideHandler(t)};document.addEventListener("click",t,!0);var a=JSON.parse(localStorage.getItem("user-data")),n=a.email,r=a.name;return n&&r&&(l(n.split("@")[0]),m(r)),function(){document.removeEventListener("click",t,!0)}}),[e]),r.a.createElement("div",{ref:d,className:"user-dialog"},r.a.createElement("div",{className:"user-dialog-content"},r.a.createElement("div",{className:"user-dialog-inner"},r.a.createElement("div",{className:"user-dialog-title"},"".concat(c," (").concat(i,")")),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",null,"Profile and Visibility")),r.a.createElement("li",null,r.a.createElement("div",null,"Activity")),r.a.createElement("li",null,r.a.createElement("div",null,"Cards")),r.a.createElement("li",{className:"line-break"},r.a.createElement("div",null,"Settings")),r.a.createElement("li",null,r.a.createElement("div",null,"Help")),r.a.createElement("li",{className:"line-break"},r.a.createElement("div",null,"Shortcuts")),r.a.createElement("li",{onClick:function(){e.onLogout(),e.history.push("/Login")}},r.a.createElement("div",null,"Log Out")))))))}))),C=(a(452),function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"gnb_wrap"},r.a.createElement("div",{className:"gnb_left"},r.a.createElement("div",{className:"rectangle_btn common_btn"},r.a.createElement(N.f,null)),r.a.createElement("div",{className:"board_btn common_btn"},r.a.createElement(N.i,null),"Boards"),r.a.createElement("div",{className:"search_input_wrap"},r.a.createElement("input",{className:"search_input"}),r.a.createElement(N.j,null))),r.a.createElement("div",{className:"logo"}),r.a.createElement("div",{className:"gnb_right"},r.a.createElement("div",{className:"rectangle_btn common_btn"},r.a.createElement(N.b,null)),r.a.createElement("div",{className:"rectangle_btn common_btn"},r.a.createElement(N.g,null)),r.a.createElement("div",{className:"rectangle_btn common_btn"},r.a.createElement(N.c,null)),r.a.createElement("div",{className:"circle_btn"},r.a.createElement(N.a,{onClick:function(e){e.preventDefault(),l(!c)}}),c&&r.a.createElement(L,{clickOutsideHandler:function(e){e.stopPropagation(),c&&l(!c)}})))),e.children)});var D=Object(m.b)(null,(function(e){return{onInitTrelloItem:function(){return e({type:"INIT_TRELLO_ITEM"})}}}))((function(e){return Object(n.useEffect)((function(){return function(){e.onInitTrelloItem()}}),[]),r.a.createElement("div",null,"\uc548\ub155\ud558\uc138\uc694")}));var G=Object(o.g)((function(e){"/"===e.location.pathname&&e.history.push("/Login");var t=function(e){var t=e.component,a=e.path;return r.a.createElement(C,null,r.a.createElement(o.b,{component:t,path:a}))};return r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/Login",component:p}),r.a.createElement(o.b,{path:"/Signup",component:O}),r.a.createElement(t,{path:"/main",component:x}),r.a.createElement(t,{path:"/board",component:D}),r.a.createElement(o.a,{to:"/Login"}))}));v.a.defaults.baseURL="/api/";var B=function(e){return r.a.createElement(G,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=a(50),R=a(211),M=a(213),U=a(212),F=function(e,t){return Object(U.a)({},e,{},t)},J={loading:!1},H=function(e,t){return F(e,{loading:!0})},P=function(e,t){return F(e,{loading:!1})},W=function(e,t){return F(e,{loading:!1})},q=function(e,t){return localStorage.removeItem("token"),localStorage.removeItem("user-data"),F(e,{loading:!1})},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCEED":return P(e,t.user);case"LOGIN_FAIL":return W();case"LOGIN_START":return H();case"LOGOUT":return q();default:return e}},z={list:[]},V=function(e,t){return F(e,{list:t})},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BOARD_ITEMS_SUCCESS":return V(e,t.items);default:return e}},K={userNo:null,boardNo:null,title:null,background:{type:"",name:""},regDate:null,updateDate:null},X=function(e,t){return F(e,{userNo:t.userNo,boardNo:t.boardNo,title:t.title,background:{type:t.background.type,name:t.background.name},regDate:t.createdAt,updateDate:t.updatedAt})},Y=function(e,t){return F(e,{userNo:null,boardNo:null,title:null,background:{type:"",name:""},regDate:null,updateDate:null})},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TRELLO_ITEM":return X(e,t.data);case"INIT_TRELLO_ITEM":return Y();default:return e}},ee=a(59),te=i.a.mark(ae);function ae(e){var t,a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h("auth/login","POST",e.user);case 3:return t=n.sent,n.next=6,localStorage.setItem("token",t.data.token);case 6:return a=JSON.stringify({userId:t.data.userId,expiration:t.data.expiration,email:t.data.email,name:t.data.name,userNo:t.data.userNo}),n.next=9,localStorage.setItem("user-data",a);case 9:return n.next=11,Object(ee.a)({type:"LOGIN_SUCCEED"});case 11:n.next=18;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(ee.a)({type:"LOGIN_FAIL"});case 17:console.log("Login Fail -----");case 18:case"end":return n.stop()}}),te,null,[[0,13]])}var ne=i.a.mark(re);function re(e){var t,a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t={userNo:e.userNo},n.next=4,h("boards/get","GET",t);case 4:return a=n.sent,n.next=7,Object(ee.a)({type:"GET_BOARD_ITEMS_SUCCESS",items:a.data.list});case 7:n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),ne,null,[[0,9]])}var ce=i.a.mark(oe),le=i.a.mark(ue);function oe(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.b)("LOGIN_START",ae);case 2:case"end":return e.stop()}}),ce)}function ue(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.b)("GET_BOARD_ITEMS_START",re);case 2:case"end":return e.stop()}}),le)}var ie=A.d,se=Object(A.c)({auth:Q,boards:$,trello:Z}),me=Object(M.a)(),de=ie(Object(A.a)(R.a,me)),be=Object(A.e)(se,de);me.run(oe),me.run(ue);var Ee=r.a.createElement(m.a,{store:be},r.a.createElement(d.a,null,r.a.createElement(B,null)));l.a.render(Ee,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[214,1,2]]]);
//# sourceMappingURL=main.e3ce47f2.chunk.js.map